import{_}from"./IForm.vue_vue_type_script_setup_true_lang-BEEyXzGG.js";import{a as v,c as R,o as p,b,t as F,j as m,h as V,v as S,m as E,u as L,g as l,f as i,U as C,e as o,r as P,w as y,W as B,i as f,a3 as M}from"./index-B3N65CX2.js";import{u as U,_ as w}from"./InputComp.vue_vue_type_script_setup_true_lang-EhwyNi3c.js";const T=["disabled"],$=v({__name:"ButtonLogReg",props:{logOrReg:{type:String,default:"log"},isLoading:Boolean},setup(x){const e=x,t=R(()=>e.logOrReg==="log"?"Sign in":"Sign up");return(r,u)=>(p(),b("button",{class:m(["border border-white py-0.5 hover:border-transparent hover:bg-white hover:text-main transition-all",[e.isLoading?"cursor-wait bg-white bg-opacity-50":""]]),disabled:e.isLoading},F(t.value),11,T))}}),A=["disabled"],h=v({__name:"LogForm",setup(x){const e=V(),t=S({email:"",password:""}),r=E(),u=L(),{mutation:d,isLoading:c}=U({mutationFn:a=>u.login({enteredEmail:a.email,password:a.password}),onSuccess:()=>{r.setSuccess("You are logged in!"),e.replace("/money-tracker/dashboard")},onError:()=>{r.setError(u.userError)}});return(a,n)=>(p(),b("form",{onSubmit:n[3]||(n[3]=C(s=>i(d)(t),["prevent"])),disabled:i(u).userLoading,class:"flex flex-col gap-2 px-auto"},[l(w,{placeholder:"Enter your email",modelValue:t.email,"onUpdate:modelValue":n[0]||(n[0]=s=>t.email=s),disabled:i(c)},null,8,["modelValue","disabled"]),l(w,{placeholder:"Enter your password",type:"password",modelValue:t.password,"onUpdate:modelValue":n[1]||(n[1]=s=>t.password=s),disabled:i(c)},null,8,["modelValue","disabled"]),l($,{"log-or-reg":"log","is-loading":i(c),onClick:n[2]||(n[2]=()=>{i(r).resErr(),i(r).resSuc()})},null,8,["is-loading"])],40,A))}}),j=["disabled"],D={class:"flex flex-col justify-around gap-2 mx-auto"},k=v({__name:"RegForm",emits:["changeAuth"],setup(x,{emit:e}){const t=S({email:"",password:"",confirmPassword:""}),r=E(),u=e,d=L(),{mutation:c,isLoading:a}=U({mutationFn:n=>d.register({email:n.email,password:n.password,confirmPassword:n.confirmPassword}),onSuccess:()=>{r.setSuccess("Account created!"),u("changeAuth")},onError:()=>{r.setError(d.userError)}});return(n,s)=>(p(),b("form",{onSubmit:s[4]||(s[4]=C(g=>i(c)(t),["prevent"])),disabled:i(d).userLoading,class:"flex flex-col gap-2 px-auto items-center content-center"},[o("div",D,[l(w,{placeholder:"Enter your email",modelValue:t.email,"onUpdate:modelValue":s[0]||(s[0]=g=>t.email=g)},null,8,["modelValue"]),l(w,{placeholder:"Enter your password",type:"password",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=g=>t.password=g)},null,8,["modelValue"]),l(w,{placeholder:"Confirm your password",type:"password",modelValue:t.confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=g=>t.confirmPassword=g)},null,8,["modelValue"])]),l($,{"log-or-reg":"reg","is-loading":i(a),onClick:s[3]||(s[3]=()=>{i(r).resErr(),i(r).resSuc()}),class:"w-[50%]"},null,8,["is-loading"])],40,j))}}),z={class:"flex pb-4 lg:hidden"},N={class:"mx-auto flex flex-col"},O={key:0,class:"h-48 flex flex-col my-auto w-full"},W={key:1,class:"h-48 flex flex-col my-auto w-full"},Y=["disabled"],H={class:"flex transition-all duration-1000 fixed top-0 w-full h-full"},I=["disabled"],q=["disabled"],G=["disabled"],X=v({__name:"AuthView",setup(x){const e=P("log"),t=()=>{e.value="reg"},r=()=>{e.value="log"},u=V(),d=()=>{u.replace("/money-tracker/forgot")};return(c,a)=>(p(),b(B,null,[l(_,{"screen-size-type":"mob",class:m(e.value==="log"?"bg-main":"bg-secondary")},{default:y(()=>[a[1]||(a[1]=o("p",{class:"text-wrap w-full bg-white text-black px-2 py-3 mb-4 text-center"},[o("b",null,"Welcome to Marker-Tracker!"),o("br"),f("ðŸŽ¯ Please log in to access your account and continue tracking with ease. Your data is secure, and your experience is seamless. "),o("br"),f(" ðŸ” Sign in to get started. Donâ€™t have an account yet? Register now and join the Marker-Tracker community! "),o("br"),o("b",null,"Letâ€™s keep you on the right track! ðŸš€")],-1)),o("div",z,[o("div",N,[e.value==="log"?(p(),b("div",O,[l(k,{class:"",onChangeAuth:a[0]||(a[0]=()=>{t()})}),o("button",{onClick:t},"Have an account")])):(p(),b("div",W,[l(h,{class:"w-full","disabled-button":e.value==="log"},null,8,["disabled-button"]),o("button",{onClick:d,class:"mt-2"},"Forgot password?"),o("button",{onClick:r,disabled:e.value==="log"},"Don't have an account",8,Y)]))])])]),_:1},8,["class"]),l(_,{"screen-size-type":"pc",class:m(e.value==="log"?"bg-main":"bg-secondary")},{default:y(()=>[o("div",H,[o("div",{class:m(["transition-all duration-[800ms] translate-y-[50%] w-[50%] mx-auto absolute top-0 left-0 flex flex-col",e.value==="log"?"opacity-100":"opacity-0"])},[l(k,{class:"w-full","disabled-button":e.value==="reg"},null,8,["disabled-button"]),o("button",{onClick:t,disabled:e.value==="reg"},"Have an account",8,I)],2),o("p",{class:m(["text-wrap w-[50%] h-full bg-white text-black absolute transition-all duration-1000 p-4 text-center pt-[9%]",e.value==="log"?"translate-x-[100%]":"translate-x-0"])},a[2]||(a[2]=[o("b",null,"Welcome to Marker-Tracker!",-1),o("br",null,null,-1),f("ðŸŽ¯ Please log in to access your account and continue tracking with ease. Your data is secure, and your experience is seamless. "),o("br",null,null,-1),f(" ðŸ” Sign in to get started. Donâ€™t have an account yet? Register now and join the Marker-Tracker community! "),o("br",null,null,-1),o("b",null,"Letâ€™s keep you on the right track! ðŸš€",-1)]),2),o("div",{class:m(["transition-all duration-[800ms] translate-y-[-50%] w-[50%] mx-auto absolute top-[50%] right-0 flex flex-col items-center",e.value==="reg"?"opacity-100":"opacity-0"]),disabled:e.value==="log"},[l(h,{class:"w-[50%]","disabled-button":e.value==="log"},null,8,["disabled-button"]),l(i(M),{to:"forgot",disabled:e.value==="log"},{default:y(()=>a[3]||(a[3]=[f(" Forgot password? ")])),_:1},8,["disabled"]),o("button",{onClick:r,disabled:e.value==="log"},"Don't have an account",8,G)],10,q)])]),_:1},8,["class"])],64))}});export{X as default};

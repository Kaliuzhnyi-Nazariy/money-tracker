import{a as k,v as M,m as E,r as w,c as f,F as V,u as F,h as U,o as B,b as N,e as l,g as t,w as d,f as i,A as T,U as $,i as u,t as c}from"./index-boKQ1Zwp.js";import{_ as p}from"./ButtonItem.vue_vue_type_script_setup_true_lang-CIJ-Nj0Q.js";import{u as j,_ as g}from"./InputComp.vue_vue_type_script_setup_true_lang-Dk4jJnla.js";const D={class:"bg-secondary p-5 w-[300px] md:w-[450px]"},L={class:"flex w-full"},O={class:"flex w-full mt-3"},z={class:"flex flex-col mt-3 gap-2 lg:flex-row lg:gap-10"},I=k({__name:"ForgotPasswordForm",setup(A){const s=M({password:"",confirmPassword:""}),e=E(),v=()=>{if(e.resMess(),!s.password||!s.confirmPassword||s.password===""||s.confirmPassword===""){e.setError("This fields can't be empty");return}s.password!==s.confirmPassword?e.setError("Password do not match"):e.setSuccess("everything is okay")},a=w(!1),r=w(!1),h=()=>{a.value=!a.value},y=()=>{r.value=!r.value},b=f(()=>a.value?"text":"password"),x=f(()=>r.value?"text":"password");V(()=>{a.value=!1});const P=F(),_=U(),{mutation:C,isLoading:m,errorMess:S}=j({mutationFn:()=>P.renewPassword({password:s.password,confirmPassword:s.confirmPassword}),onSuccess:()=>{e.setSuccess("Password has been changed!"),_.replace("authorization")},onError:()=>{e.setError(S)}});return(R,o)=>(B(),N("div",D,[l("form",{onSubmit:o[3]||(o[3]=$(n=>i(C)(),["prevent"]))},[l("span",L,[t(g,{placeholder:"Password","model-value":s.password,"onUpdate:modelValue":o[0]||(o[0]=n=>s.password=n),type:b.value,label:"Password",class:"w-full"},null,8,["model-value","type"]),t(p,{"type-of-comp":"button",type:"button",onClick:h,class:"!w-[36px] !h-[36px] flex justify-center items-center ml-auto mt-auto"},{default:d(()=>[u(c(a.value?"🐵":"🙈"),1)]),_:1})]),l("span",O,[t(g,{class:"",placeholder:"Confirm password","model-value":s.confirmPassword,"onUpdate:modelValue":o[1]||(o[1]=n=>s.confirmPassword=n),type:x.value,label:"Confirm password"},null,8,["model-value","type"]),t(p,{"type-of-comp":"button",type:"button",onClick:y,class:"!w-[36px] !h-[36px] flex justify-center items-center ml-auto mt-auto"},{default:d(()=>[u(c(r.value?"🐵":"🙈"),1)]),_:1})]),l("div",z,[t(p,{typeOfComp:"button",type:"button",onClick:o[2]||(o[2]=async()=>{i(e).resMess(),await T(),v()}),class:"hover:bg-white hover:bg-opacity-50 transition-all"},{default:d(()=>o[4]||(o[4]=[u("Check password")])),_:1}),t(p,{typeOfComp:"button",type:"submit",disabled:i(m),class:"hover:bg-white hover:bg-opacity-50 transition-all"},{default:d(()=>[u(c(i(m)?"Loading...":"Change password"),1)]),_:1},8,["disabled"])])],32)]))}});export{I as default};
